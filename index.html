<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>트위터 완전 청소기 - 자동 스크롤 버전</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1DA1F2">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 10px;
            font-size: 16px;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            color: white;
            padding: 0 10px;
        }
        
        .header h1 {
            font-size: 1.8em;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .badge {
            background: #4CAF50;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            display: inline-block;
            margin: 10px 0;
        }
        
        .card {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .function-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin: 15px 0;
        }
        
        .function-box {
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
            min-height: auto;
        }
        
        .function-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: inherit;
            opacity: 0.9;
            z-index: 1;
        }
        
        .function-content {
            position: relative;
            z-index: 2;
        }
        
        .tweets-delete {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
        }
        
        .likes-cancel {
            background: linear-gradient(135deg, #e91e63 0%, #ad1457 100%);
        }
        
        .retweets-remove {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
        }
        
        .quotes-delete {
            background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%);
        }
        
        .function-box h3 {
            font-size: 1.2em;
            margin-bottom: 8px;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        .function-box p {
            margin-bottom: 15px;
            opacity: 0.9;
            line-height: 1.4;
            font-size: 0.9em;
        }
        
        .bookmarklet-code {
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 0.65em;
            margin: 10px 0;
            word-break: break-all;
            border: 2px dashed rgba(255,255,255,0.5);
            color: white;
            font-weight: bold;
            max-height: 80px;
            overflow-y: auto;
            line-height: 1.2;
            -webkit-overflow-scrolling: touch;
        }
        
        .copy-btn {
            background: rgba(255,255,255,0.9);
            color: #333;
            border: none;
            padding: 12px 20px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            width: 100%;
            margin-top: 5px;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        .copy-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .copy-btn:active {
            transform: translateY(0);
        }
        
        .instructions {
            background: #f0f8ff;
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
            border-left: 4px solid #1DA1F2;
        }
        
        .instructions h3 {
            color: #1DA1F2;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .steps {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin: 15px 0;
        }
        
        .step {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
            border-left: 3px solid #4CAF50;
        }
        
        .step h4 {
            color: #2e7d32;
            margin-bottom: 8px;
            font-size: 1em;
        }
        
        .step ul {
            margin-left: 15px;
            color: #555;
        }
        
        .step li {
            margin: 6px 0;
            line-height: 1.3;
            font-size: 0.9em;
        }
        
        .warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
        }
        
        .warning h3 {
            color: #856404;
            margin-bottom: 12px;
            font-size: 1.1em;
        }
        
        .warning ul {
            margin-left: 15px;
            color: #856404;
        }
        
        .warning li {
            margin: 8px 0;
            line-height: 1.4;
            font-weight: 500;
            font-size: 0.9em;
        }
        
        .tips {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
        }
        
        .tips h3 {
            color: #2e7d32;
            margin-bottom: 12px;
            font-size: 1.1em;
        }
        
        .tip-item {
            background: white;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 3px solid #4CAF50;
            box-shadow: 0 1px 4px rgba(0,0,0,0.1);
            font-size: 0.9em;
            line-height: 1.4;
        }
        
        .tip-item strong {
            color: #2e7d32;
        }
        
        .install-prompt {
            background: linear-gradient(45deg, #43a047, #66bb6a);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            cursor: pointer;
            display: none;
            box-shadow: 0 4px 15px rgba(67, 160, 71, 0.3);
        }
        
        .status {
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .info {
            background: #cce7ff;
            color: #004085;
            border: 1px solid #b8daff;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .autoscroll-badge {
            background: #ff9800;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin-left: 8px;
        }
        
        @media (max-width: 600px) {
            body {
                padding: 5px;
                font-size: 14px;
            }
            
            .header h1 {
                font-size: 1.6em;
            }
            
            .function-box h3 {
                font-size: 1.1em;
            }
            
            .bookmarklet-code {
                font-size: 0.6em;
                max-height: 70px;
                padding: 8px;
            }
            
            .copy-btn {
                padding: 10px 15px;
                font-size: 0.8em;
            }
            
            .card {
                padding: 12px;
                margin-bottom: 12px;
            }
            
            .function-box {
                padding: 15px;
            }
            
            .instructions, .tips, .warning {
                padding: 15px;
            }
            
            .tip-item, .step {
                padding: 10px;
                font-size: 0.85em;
            }
        }
        
        @media (max-width: 400px) {
            .header h1 {
                font-size: 1.4em;
            }
            
            .bookmarklet-code {
                font-size: 0.55em;
                max-height: 60px;
            }
            
            .copy-btn {
                padding: 8px 12px;
                font-size: 0.75em;
            }
        }
        
        .copy-btn:active, .copy-btn:focus {
            outline: none;
            transform: scale(0.98);
            background: white;
        }
        
        .bookmarklet-code::-webkit-scrollbar {
            width: 3px;
        }
        
        .bookmarklet-code::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.2);
            border-radius: 3px;
        }
        
        .bookmarklet-code::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.5);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🧹 트위터 완전 청소기</h1>
            <div class="badge">🚀 자동 스크롤 버전</div>
            <p>자동 스크롤로 모든 컨텐츠를 불러온 후 처리합니다</p>
        </div>
        
        <div class="install-prompt" id="installPrompt">
            📱 홈 화면에 앱으로 설치하세요!
        </div>
        
        <div class="card" style="background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%); border: 2px solid #f44336; margin-bottom: 20px;">
            <div style="text-align: center; padding: 15px;">
                <h2 style="color: #d32f2f; margin-bottom: 12px; font-size: 1.3em;">⚠️ 주의사항</h2>
                <p style="font-size: 1em; color: #c62828; font-weight: bold; line-height: 1.5; margin-bottom: 10px;">
                    아직 <strong>개발단계</strong>이므로 실사용은 아직 불가합니다
                </p>
                <p style="font-size: 0.9em; color: #b71c1c; font-weight: 500; line-height: 1.4;">
                    사용으로 인한 손해는 <strong>책임지지 않습니다</strong>
                </p>
                <div style="background: white; padding: 10px; border-radius: 8px; margin-top: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);">
                    <p style="color: #666; margin: 0; font-size: 0.85em;">
                        🚧 테스트 목적으로만 사용하시고, 중요한 데이터 백업을 권장합니다
                    </p>
                </div>
            </div>
        </div>
        
        <div class="card" style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border: 2px solid #1976d2;">
            <div style="text-align: center; padding: 20px;">
                <h2 style="color: #1976d2; margin-bottom: 15px;">📱 모바일 사용자 필독!</h2>
                <p style="font-size: 1.1em; color: #1565c0; font-weight: bold; line-height: 1.6;">
                    모바일에서는 <strong>북마크를 즐겨찾기에 추가</strong>한 후,<br>
                    해당 트위터 페이지에서 <strong>즐겨찾기를 터치</strong>해서 실행하세요!
                </p>
                <div style="background: white; padding: 15px; border-radius: 10px; margin-top: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <p style="color: #333; margin: 0;">
                        <strong>📌 순서:</strong> 코드 복사 → 즐겨찾기 추가 → 트위터 페이지 이동 → 즐겨찾기 터치 → 자동 스크롤 → 처리!
                    </p>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">🎯 자동 스크롤 기능 <span class="autoscroll-badge">NEW</span></h2>
            
            <div class="function-grid">
                <div class="function-box tweets-delete">
                    <div class="function-content">
                        <h3>🗑️ 내 트윗 삭제</h3>
                        <p>자동 스크롤로 모든 트윗을 불러온 후 안전하게 삭제</p>
                        
                        <div class="bookmarklet-code" id="tweetsCode">
javascript:(()=>{alert("🗑️ 트윗 삭제 + 자동 스크롤 시작!");let scrolls=0,maxScrolls=50,interval=1500;let scrollInt=setInterval(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});scrolls++;if(scrolls>=maxScrolls){clearInterval(scrollInt);runDelete()}},interval);function runDelete(){let c=0;document.querySelectorAll('[data-testid="tweet"]').forEach((t,i)=>{setTimeout(()=>{try{let m=t.querySelector('[aria-label="더보기"]')||t.querySelector('[aria-label="More"]');m?.click();setTimeout(()=>{let d=[...document.querySelectorAll('[role="menuitem"]')].find(b=>b.textContent.includes("삭제")||b.textContent.includes("Delete"));d?.click();setTimeout(()=>{let y=document.querySelector('[data-testid="confirmationSheetConfirm"]');y?.click();c++;console.log(`✅ 삭제됨: ${c}`)},1000)},1000)}catch(e){console.log("❌",e)}},i*2500)})}});
                        </div>
                        
                        <button class="copy-btn" onclick="copyCode('tweetsCode', this)">
                            📋 트윗 삭제 코드 복사
                        </button>
                    </div>
                </div>
                
                <div class="function-box likes-cancel">
                    <div class="function-content">
                        <h3>❤️ 좋아요 취소</h3>
                        <p>자동 스크롤로 모든 좋아요를 불러온 후 일괄 취소</p>
                        
                        <div class="bookmarklet-code" id="likesCode">
javascript:(()=>{alert("❤️ 좋아요 취소 + 자동 스크롤 시작!");let scrolls=0,maxScrolls=50,interval=1500;let scrollInt=setInterval(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});scrolls++;if(scrolls>=maxScrolls){clearInterval(scrollInt);runUnlikes()}},interval);function runUnlikes(){let c=0;document.querySelectorAll('[data-testid="unlike"]').forEach((b,i)=>{setTimeout(()=>{try{b.click();c++;console.log(`💔 좋아요 취소: ${c}`)}catch(e){console.log("❌",e)}},i*1500)})}});
                        </div>
                        
                        <button class="copy-btn" onclick="copyCode('likesCode', this)">
                            💔 좋아요 취소 코드 복사
                        </button>
                    </div>
                </div>
                
                <div class="function-box retweets-remove">
                    <div class="function-content">
                        <h3>🔄 리트윗 취소</h3>
                        <p>자동 스크롤로 모든 리트윗을 불러온 후 일괄 취소</p>
                        
                        <div class="bookmarklet-code" id="retweetsCode">
javascript:(()=>{alert("🔄 리트윗 취소 + 자동 스크롤 시작!");let scrolls=0,maxScrolls=50,interval=1500;let scrollInt=setInterval(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});scrolls++;if(scrolls>=maxScrolls){clearInterval(scrollInt);runUnretweets()}},interval);function runUnretweets(){let c=0;document.querySelectorAll('[data-testid="unretweet"]').forEach((b,i)=>{setTimeout(()=>{try{b.click();setTimeout(()=>{document.querySelector('[data-testid="unretweetConfirm"]')?.click();c++;console.log(`🔄 리트윗 취소: ${c}`)},800)}catch(e){console.log("❌",e)}},i*2000)})}});
                        </div>
                        
                        <button class="copy-btn" onclick="copyCode('retweetsCode', this)">
                            🔄 리트윗 취소 코드 복사
                        </button>
                    </div>
                </div>
                
                <div class="function-box quotes-delete">
                    <div class="function-content">
                        <h3>💬 인용트윗 삭제</h3>
                        <p>자동 스크롤로 모든 인용트윗을 불러온 후 삭제</p>
                        
                        <div class="bookmarklet-code" id="quotesCode">
javascript:(()=>{alert("💬 인용트윗 삭제 + 자동 스크롤 시작!");let scrolls=0,maxScrolls=50,interval=1500;let scrollInt=setInterval(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});scrolls++;if(scrolls>=maxScrolls){clearInterval(scrollInt);runQuotes()}},interval);function runQuotes(){let c=0;document.querySelectorAll('[data-testid="tweet"]').forEach((t,i)=>{setTimeout(()=>{try{if(t.innerText.includes("https://t.co")||t.querySelector('[data-testid="quoteTweet"]')){let m=t.querySelector('[aria-label="더보기"]')||t.querySelector('[aria-label="More"]');m?.click();setTimeout(()=>{let d=[...document.querySelectorAll('[role="menuitem"]')].find(b=>b.textContent.includes("삭제")||b.textContent.includes("Delete"));d?.click();setTimeout(()=>{let y=document.querySelector('[data-testid="confirmationSheetConfirm"]');y?.click();c++;console.log(`💬 인용트윗 삭제: ${c}`)},1000)},1000)}}catch(e){console.log("❌",e)}},i*2500)})}});
                        </div>
                        
                        <button class="copy-btn" onclick="copyCode('quotesCode', this)">
                            💬 인용트윗 삭제 코드 복사
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="instructions">
                <h3>🔄 자동 스크롤 기능 설명</h3>
                
                <div class="steps">
                    <div class="step">
                        <h4>1️⃣ 자동 스크롤 단계</h4>
                        <ul>
                            <li><strong>50회 스크롤</strong>로 모든 컨텐츠 로드</li>
                            <li><strong>1.5초 간격</strong>으로 안전하게 스크롤</li>
                            <li><strong>총 75초</strong> 스크롤 시간</li>
                        </ul>
                    </div>
                    
                    <div class="step">
                        <h4>2️⃣ 처리 시작</h4>
                        <ul>
                            <li>스크롤 완료 후 <strong>자동으로 처리 시작</strong></li>
                            <li>찾은 항목들을 <strong>순차적으로 처리</strong></li>
                            <li><strong>콘솔에서 진행상황 확인</strong> 가능</li>
                        </ul>
                    </div>
                    
                    <div class="step">
                        <h4>3️⃣ 사용 방법</h4>
                        <ul>
                            <li><strong>해당 트위터 페이지</strong>로 이동</li>
                            <li><strong>북마클릿 실행</strong></li>
                            <li><strong>자동 스크롤 대기</strong> (75초)</li>
                            <li><strong>처리 완료까지 대기</strong></li>
                        </ul>
                    </div>
                    
                    <div class="step">
                        <h4>4️⃣ 페이지별 안내</h4>
                        <ul>
                            <li><strong>트윗/인용트윗 삭제:</strong> 내 프로필</li>
                            <li><strong>좋아요 취소:</strong> twitter.com/i/likes</li>
                            <li><strong>리트윗 취소:</strong> 내 프로필</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tips">
            <h3>💡 자동 스크롤 버전 팁</h3>
            
            <div class="tip-item">
                <strong>📍 충분한 시간 확보:</strong> 스크롤 단계에서 75초 정도 기다려야 합니다. 중간에 다른 작업을 하지 마세요.
            </div>
            
            <div class="tip-item">
                <strong>🔍 진행상황 확인:</strong> F12로 콘솔을 열어두면 실시간으로 처리 현황을 볼 수 있습니다.
            </div>
            
            <div class="tip-item">
                <strong>⏸️ 중도 중단:</strong> 페이지 새로고침(F5)으로 언제든 중단할 수 있습니다.
            </div>
            
            <div class="tip-item">
                <strong>🌐 안정적인 네트워크:</strong> WiFi 환경에서 사용하시고, 네트워크가 불안정하면 중단될 수 있습니다.
            </div>
            
            <div class="tip-item">
                <strong>📱 모바일 최적화:</strong> 이 버전은 모바일에서도 잘 작동하도록 최적화되었습니다.
            </div>
        </div>
        
        <div class="warning">
            <h3>⚠️ 중요한 주의사항</h3>
            <ul>
                <li><strong>되돌릴 수 없음:</strong> 모든 삭제/취소 작업은 영구적이며 복구할 수 없습니다</li>
                <li><strong>대량 처리:</strong> 자동 스크롤로 많은 항목을 처리하므로 신중하게 사용하세요</li>
                <li><strong>계정 안전:</strong> 너무 빠른 대량 작업은 일시적인 계정 제재를 받을 수 있습니다</li>
                <li><strong>백업 필수:</strong> 중요한 데이터는 미리 백업해 두시기 바랍니다</li>
                <li><strong>트위터 정책:</strong> 트위터 이용약관을 준수하며 사용하세요</li>
            </ul>
        </div>
        
        <div id="status" class="status info">
            🚀 자동 스크롤 버전으로 더 많은 컨텐츠를 효율적으로 처리하세요!
        </div>
    </div>

    <script>
        // Service Worker 등록
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // PWA 설치 프롬프트
        let deferredPrompt;
        const installPrompt = document.getElementById('installPrompt');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installPrompt.style.display = 'block';
        });

        installPrompt.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                console.log(`User response: ${outcome}`);
                deferredPrompt = null;
                installPrompt.style.display = 'none';
            }
        });

        // 코드 복사 기능
        function copyCode(codeId, buttonElement) {
            const code = document.getElementById(codeId).textContent.trim();
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(code).then(() => {
                    showCopySuccess(buttonElement);
                    updateStatus('✅ 자동 스크롤 북마클릿 코드가 복사되었습니다! 북마크로 저장하세요.', 'success');
                }).catch(err => {
                    console.error('복사 실패:', err);
                    fallbackCopy(code, buttonElement);
                });
            } else {
                fallbackCopy(code, buttonElement);
            }
        }

        // 복사 성공 피드백
        function showCopySuccess(button) {
            const originalText = button.textContent;
            const originalBg = button.style.background;
            
            button.textContent = '✅ 복사됨!';
            button.style.background = '#4CAF50';
            button.style.color = 'white';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = originalBg;
                button.style.color = '#333';
            }, 2000);
        }

        // 복사 대체 방법
        function fallbackCopy(text, buttonElement) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopySuccess(buttonElement);
                updateStatus('✅ 자동 스크롤 북마클릿 코드가 복사되었습니다!', 'success');
            } catch (err) {
                updateStatus('❌ 복사에 실패했습니다. 코드를 수동으로 선택해서 복사해주세요.', 'error');
            }
            
            document.body.removeChild(textArea);
        }

        // 상태 업데이트
        function updateStatus(message, type = 'info') {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = `status ${type}`;
            
            // 자동 페이드아웃
            setTimeout(() => {
                if (status.className.includes(type)) {
                    status.className = 'status info';
                    status.textContent = '🚀 자동 스크롤 버전으로 더 많은 컨텐츠를 효율적으로 처리하세요!';
                }
            }, 5000);
        }

        // 페이지 로드 시 초기화
        window.addEventListener('load', () => {
            // 모바일 감지
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                updateStatus('📱 모바일에서 접속하셨네요! 자동 스크롤 버전이 모바일에 최적화되었습니다.', 'success');
            } else {
                updateStatus('💻 데스크톱에서 접속하셨습니다. 자동 스크롤 기능을 활용해보세요!', 'info');
            }

            // PWA 설치 상태 확인
            if (window.matchMedia('(display-mode: standalone)').matches) {
                updateStatus('🎉 PWA 모드로 실행 중입니다! 자동 스크롤 기능을 사용해보세요.', 'success');
            }
        });

        // 온라인/오프라인 상태 감지
        window.addEventListener('online', () => {
            updateStatus('🟢 온라인 상태입니다. 자동 스크롤 기능을 사용할 수 있습니다.', 'success');
        });

        window.addEventListener('offline', () => {
            updateStatus('🔴 오프라인 상태입니다. 인터넷에 연결 후 사용하세요.', 'error');
        });

        // 에러 처리
        window.addEventListener('error', (e) => {
            console.error('에러 발생:', e);
        });

        // 자동 스크롤 진행률 시뮬레이션 (데모용)
        function simulateAutoScroll() {
            updateStatus('🔄 자동 스크롤 시뮬레이션 시작... (실제로는 트위터에서 실행하세요)', 'info');
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2;
                updateStatus(`📜 자동 스크롤 진행 중... ${progress}% (${Math.floor(progress/2)}/50회)`, 'info');
                
                if (progress >= 100) {
                    clearInterval(interval);
                    updateStatus('✅ 자동 스크롤 완료! 처리를 시작합니다...', 'success');
                }
            }, 100);
        }

        // 키보드 단축키
        document.addEventListener('keydown', (e) => {
            // Ctrl + Shift + C: 첫 번째 코드 복사
            if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                e.preventDefault();
                const firstCopyBtn = document.querySelector('.copy-btn');
                if (firstCopyBtn) {
                    firstCopyBtn.click();
                }
            }
            
            // Ctrl + Shift + S: 자동 스크롤 시뮬레이션
            if (e.ctrlKey && e.shiftKey && e.key === 'S') {
                e.preventDefault();
                simulateAutoScroll();
            }
        });

        // 터치 제스처 지원 (모바일)
        let touchStartY = 0;
        let touchEndY = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartY = e.changedTouches[0].screenY;
        });

        document.addEventListener('touchend', (e) => {
            touchEndY = e.changedTouches[0].screenY;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeDistance = touchStartY - touchEndY;
            const minSwipeDistance = 50;
            
            // 위로 스와이프 (아래로 스크롤)
            if (swipeDistance > minSwipeDistance) {
                // 추가 기능을 위한 예약 공간
            }
            
            // 아래로 스와이프 (위로 스크롤)
            if (swipeDistance < -minSwipeDistance) {
                // 추가 기능을 위한 예약 공간
            }
        }

        // 성능 모니터링
        function logPerformance() {
            if (performance && performance.now) {
                const loadTime = performance.now();
                console.log(`📊 페이지 로드 시간: ${Math.round(loadTime)}ms`);
                
                if (loadTime > 3000) {
                    updateStatus('⚠️ 페이지 로딩이 느립니다. 네트워크 상태를 확인해주세요.', 'info');
                }
            }
        }

        // 초기화 완료
        setTimeout(() => {
            logPerformance();
            console.log('🚀 트위터 완전 청소기 (자동 스크롤 버전) 초기화 완료');
        }, 1000);
    </script>
</body>
</html>
